<!DOCTYPE html>

<html>
  <head>
     <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108740911-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-108740911-1');
</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Big Canvas Email Newsletter | Johannesburg</title>
    <meta name="description" content="Create a quick email newsletter and send it to all your customers provided by Big Canvas Johannesburg.">
  <meta name="keywords" content="email, newsletter, Johannesburg">
   <meta property="og:title" content="Create a quick email newsletter">
  <meta property="og:image" content="https://www.bigcanvas.co.za/img/banner.jpg">
  <meta property="og:url" content="https://www.bigcanvas.co.za/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="theme-color" content="#111f3b"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="../css/book.css">
 
    <style>

      body {
        font-family: "Arial", sans-serif;
      }

      nav {
        display: inline;
      }

      .main {
        padding: 5% 0;
        display: grid;
        grid-template-columns: 80% 20%;
        height: 100vh;
      }

      #download {
            padding: 2%;
        text-align: right;
        width: 100%;
        background-color: #1e1f31;
            }

            #download a {
                padding: 1%;
                text-decoration: none;
                margin: 5%;
                color: #fff;
                background-color: #1caf1c;
                border-radius: 8px;
                box-shadow: inset 0px -2px 0px 1px #000000a1, inset 0px 3px 9px 3px #ffffffa1;
            }

            #download a:active {
                box-shadow: inset 0px -2px 2px 0px #FFFFFFA1, inset 0px 2px 9px 5px #000000A1;
            }

          #links {
            position: absolute;
            background-color: #fff;
            padding: 2%;
            display: none;
            width: 50%;
            margin: 5%;
          }

          #links a {
            background-color: #1e1f31;
          }

      #blackscreen {
          width: 100%;
          height: 100%;
          display: grid;
          place-items: center;
      }

      #business-card {
        background-color: #32a852;
        /* width: 340px 90mm; */
        /* height: 192px 50mm; */
        width: 680px;
        height: 384px;
        display: grid;
        grid-template-columns: 1fr;
        background-size: cover;
        background-position: center;
      }


      #business-card-txt {
        background-color: #000;
        display: grid;
        place-items: center;
        padding: 5%;
        border-top-right-radius: 150px;
        border-bottom-right-radius: 150px;
        color: #fff;
      }

      #business-card-btns {
          padding: 0 10%;
      }

      .text_container {
        width: 95%;
      }

      .bttn {
        margin: 1%;
        padding: 10px;
        background-color: transparent;
        border: 1px solid #fff;
        display: grid;
        place-items: center;
        color: #fff;
        place-items: center;
        border-radius: 50px;
        width: max-content;
        text-decoration: none;
      } 

      .bttn i {
        font-size:25px; 
        color: #ffffff;
        text-align: center;
      }

      .btn-anchor {
          display: grid;
          place-items: center;
          padding: 5%;
          color: #fff;
          text-decoration: none;
      }

      .text-tab {
          display: grid;
          place-items: center;
      }
      

      h2, h3 {
        text-align: center;
        margin: 0;
      }
      h2 {
        font-size: 30px;
      }
      h3 {
        font-size: 20px;
      }

      p {
        margin: 0;
        font-size: 15px;
      }

      .txt_p {
        display: grid;
        grid-template-columns: 10% 1fr;
        margin-bottom: 4%;
      }

      #business-card-logo {
        display: grid;
        place-items: center;
      }


      #mytxt {
        display: none;
        position: fixed;
        z-index: 3;
        top: 25px;
        left: 5%;
            }

      #instructions {
        border: 3px solid #fff;
        color: #fff;
        width: fit-content;
        padding: 2%;
        margin: 2%;
      }

      #download_cloth {
        height: 100vh;
        width: 100%;
        position: fixed;
        z-index: 1;
        background-color: #1e1f31;
        display: none;
        place-items: center;
      }

      #download_cloth h2 {
        color: #fff;
        background-color: #267be3;
        padding: 2%;
      }

      @media (max-width: 768px) {
        .main {
        place-items: center;
        grid-template-columns: 1fr;
        grid-template-rows: 80% 1fr;
        overflow: hidden;
      }
      #business-card {
            width: 100vw;
            height: 30vh;
        }


      #business-card-btns {
        position: fixed;
        width: 90%;
        z-index: 1;
        bottom: 0;
        padding: 5%;
        background-color: #1e1f31;
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
      }

      .btn-div {
          display: grid;
          place-items: center;
      }

      .bttn {
          width: 15px;
          height: 15px;
          display: grid;
          place-items: center;
          margin-bottom: 12%;
      }

      .bttn i {
          font-size: 15px;
          padding-bottom: 10px;
          mix-blend-mode: difference;
      }

      .bttn p {
        mix-blend-mode: difference;
      }


        h2 {
        font-size: 15px;
      }
      h3 {
        font-size: 10px;
      }

      p {
        margin: 0;
        font-size: 7.5px;
      }


      }

    </style>
  </head>
  <body>
  <div id="die-kop"><?php include('headsgubu.php'); ?></div>
        <div id="download_cloth">
          <h2>Downloading...</h2>
        </div>
        <div id="download">
            <a href="javascript:void(0)" onclick="vulaLinks(1)">Share Page <i class="fa fa-link" style="font-size:14px; color: #ffffff;"></i></a>
            <a href="javascript:void(0)" id="downloadbtn" onclick="vulaLinks(2)">Send Newsletter <i class="fa fa-download" style="font-size:14px; color: #ffffff;"></i></a>
            <div id="links">
                <a href="https://www.facebook.com/sharer.php?u=https://bit.ly/4aCanV5"><i class="fab fa-facebook" style="font-size:20px; color: #ffffff;"></i></a>
                <a href="https://twitter.com/share?url=https://bit.ly/4aCanV5"><i class="fab fa-twitter" style="font-size:20px; color: #ffffff;"></i></a>
            </div>
        </div>
        <?php include('emailpopup.php'); ?>
    <div class="container main">
    <div class="container" id="main" style="background-color: rgb(255, 255, 255);padding: 5% 0; border-radius: 15px; max-width: 600px;margin: auto;">
          <div id="newsletter" style="background-color: aliceblue;margin: 5%;">
 
            <table class="title" style="border-collapse: collapse;width: 100%;">
                    <colgroup>
                        <col span="1" style="width: 50%;">
                        <col span="1" style="width: 50%;">
                    </colgroup>
                <tr>
                    <th class="newsletter_logo second-color" style="margin: 5%;padding: 10%; float: left;"><img src="https://www.bigcanvas.co.za/img/thebclogo.png" id="mylogo" alt="" width="30%"></th>
                    <th class="second-color"><h3 contenteditable="true" style="text-align: left;" class="header-color">click on any text to edit, click on logo to change</h3></th>
                </tr>
            </table>

            <div class="body" style="padding: 5%;">
                <div id="msg">
                  <div id="dateorder">
                    <p contenteditable="true" class="txt-color">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque harum nobis ex pariatur expedita quisquam iusto suscipit eveniet laborum dolor, quae sit ipsa, ducimus, soluta perspiciatis deserunt dolorum similique sapiente.<br><br>
                    </p>
                        <table style="border-collapse: collapse;width: 100%;">
                            <colgroup>
                                <col span="1" style="width: 50%;">
                                <col span="1" style="width: 50%;">
                            </colgroup>
                            <tr>
                                <th style="margin: 5%; float: left;"><img src="https://www.bigcanvas.co.za/img/thebclogo.png" id="mylogo" alt="" width="100"></th>
                                <th><p contenteditable="true" style="text-align: left;" class="txt-color">click on any text to edit, click on logo to change</p></th>
                            </tr>
                        </table>
                    <p class="txt-color">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt consectetur corrupti, excepturi ducimus odit in aspernatur. Ipsam temporibus deleniti, illo natus soluta maxime, corrupti aut doloribus consectetur eveniet ratione ad?<br><br>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde perspiciatis quaerat voluptatem. Quasi quam neque unde commodi voluptates non adipisci sequi aperiam, at a deleniti velit provident incidunt? Accusantium, veniam.
                    </p>
                    
                  </div>
                  
                </div>
                
                  
            </div>
            <div class="footer second-color" style="background-color: rgb(198, 178, 223); width: 100%;
							text-align: center;">
				<p id="businessreg" contenteditable="true" class="header-color" style="color: #000; padding: 5%;">Big Canvas</p>
			</div>

          </div>  


        </div>
        

      <div id="business-card-btns">
      <textarea id="mytxt"></textarea>
      <input id="inputFile" type="file" style="display: none;">
    
      <div class="btn-div"><a href="javascript:void(0)" class="btn-anchor" onclick="changeColor(1)" title="background color"><i class="fas fa-fill-drip bttn"></i><p class="text-tab">Header</p></a></div>
      <div class="btn-div"><a href="javascript:void(0)" class="btn-anchor" onclick="changeColor(2)" title="font color"><i class="fas fa-text bttn"></i><p class="text-tab">Text</p></a></div>
      <div class="btn-div"><a href="javascript:void(0)" class="btn-anchor" onclick="changeColor(3)" title="font" ><i class="fa fa-fill-drip bttn"></i><p class="text-tab">Background</p></a></div>
      <div class="btn-div"><a href="javascript:void(0)" class="btn-anchor" onclick="changeColor(5)" title="gradient"><i class="fas fa-text bttn"></i><p class="text-tab">Title</p></a></div>
      <div id="myinputs"></div>
      <div class="color-picker"></div>
    </div>
      
    </div>

      <?php include('bottom.php'); ?> 
      
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      var ibox = document.querySelector(".txt"),
      bcl = document.getElementById("business-card"),
      con = document.querySelector(".container"),
      txt_area = document.getElementById("mytxt"),
      igama = "",
      myfile,
      add_more = document.getElementById("addmore");
      mylogo = document.getElementById("mylogo"),
      inputFile = document.getElementById("inputFile"),
      inputColor = document.getElementById("inputColor"),
      myin = document.getElementById("myinputs"),
      popupform = false,
      bttn = document.querySelectorAll(".bttn"),
      second_color = document.querySelectorAll(".second-color");
      header_color = document.querySelectorAll(".header-color");
      gradient_num = 0,
      cloth = document.getElementById("download_cloth"),
      x = '', num = 0;

      bttn[0].style.backgroundColor = "rgb(136, 185, 208)";
      bttn[1].style.backgroundColor = "rgb(0, 0, 0)";
      bttn[2].style.backgroundColor = "rgb(255, 255, 255)";
      bttn[3].style.backgroundColor = "rgba(191, 56, 56)";

      window.addEventListener("onfocus", function() {
            console.log("contenteditable element changed");
        });


        if(window.innerWidth < 640) {
            // document.querySelector("#die-kop").style.display = "none";
            second_color.forEach(element => {
            element.style.cssText = "height: 30px; background-color: rgb(136, 185, 208); text-align: left;";
            }); 
            document.querySelector(".thetable").style.cssText = "border: 1px solid #000; font-size: 12px;";
        } else {
            second_color.forEach(element => {
            element.style.cssText = "height: 60px; background-color: rgb(136, 185, 208); text-align: left;";
            });
        }  
        document.querySelector(".footer").style.textAlign = "center";
        header_color.forEach(element => {
            element.style.color = "rgba(219, 83, 73)";
            });



// funtion to close text box if click occurs outside....
document.addEventListener("click", (ev) => {
  if (
    ev.target.id !== "mytxt" &&
    ev.target.id !== "drag-1"
  ) {
    txt_area.classList.remove("active");
    txt_area.style.display = "none";
  }
});
      
      
        function AddColumn() {
                document.querySelector(".thetable tbody").innerHTML += `<tr><td contenteditable="true">The invoice</td><td contenteditable="true">5</td contenteditable="true"><td contenteditable="true">100</td></tr>`;
           }


        // Function to change the logo
        mylogo.addEventListener("click", () => {
        inputFile.click();
      })
      // Function to change the logo
      inputFile.onchange = () => {
        console.log("change image");
        myfile = inputFile.files[0];
        var reader = new FileReader();
        reader.onloadend = () => {
          mylogo.src = reader.result;
        }
        if (myfile) {
          reader.readAsDataURL(myfile);
         }
      }

      async function createForm(theBlob) {
        if(typeof theBlob != "undefined") {
            var formData = new FormData();
        var d = new Date();
        newfilename =
          d.getFullYear().toString() +
          d.getMonth().toString() +
          d.getDay().toString() +
          d.getTime().toString() +
          ".png";
        formData.append("dali", theBlob, newfilename);
        console.log(newfilename);

        await fetch("../upload_logos.php", {
          method: "post",
          body: formData,
        })
        
        .then(data => {
            mylogo.src = "https://www.bigcanvas.co.za/newsletter_img/" + newfilename;
            console.log(document.querySelector("#newsletter").outerHTML);
        })
        .catch(console.error);
        }
        

        var sendEmail = new FormData();
        var email = document.querySelector("#newsletter").outerHTML;
        sendEmail.append("newsletter", email);
        sendEmail.append("subject", document.querySelector("#form-subject").value);
        sendEmail.append("fromemail", document.querySelector("#form-from-email").value);
        sendEmail.append("toemail", document.querySelector("#form-to-email").value);

        await fetch("https://www.marketonweb.co.za/sendemail", {
          method: "post",
          mode: 'no-cors',
          body: sendEmail,
          headers: {"Content-type": "application/json; charset=UTF-8"}
        })
        .then(data => {
        document.querySelector("#msgsent").innerHTML = "Message sent to " + document.querySelector("#form-to-email").value;
        document.querySelector("#msgsent").style.cssText = "color: #1caf1c; display: block;";
    })

        }

    

      // Simple example, see optional options for more configuration.
function changeColor(mow) {
  const pickr = Pickr.create({
    el: '.color-picker',
    theme: 'classic', // or 'monolith', or 'nano'

    swatches: [
        'rgba(244, 67, 54, 1)',
        'rgba(233, 30, 99, 1)',
        'rgba(156, 39, 176, 1)',
        'rgba(103, 58, 183, 1)',
        'rgba(63, 81, 181, 1)',
        'rgba(33, 150, 243, 1)',
        'rgba(3, 169, 244, 1)',
        'rgba(0, 188, 212, 1)',
        'rgba(0, 150, 136, 1)',
        'rgba(76, 175, 80, 1)',
        'rgba(139, 195, 74, 1)',
        'rgba(205, 220, 57, 1)',
        'rgba(255, 235, 59, 1)',
        'rgba(255, 193, 7, 1)'
    ],

    components: {

        // Main components
        preview: true,
        opacity: true,
        hue: true,

        // Input / output Options
        interaction: {
            hex: true,
            rgba: true,
            hsla: true,
            hsva: true,
            cmyk: true,
            input: true,
            clear: true,
            save: true
        }
    }
});

pickr.show();

pickr.on('change', (...args) => {
  let color = args[0].toHEXA().toString();
  switch (mow) {
      case 1:
      document.querySelectorAll(".second-color").forEach(element => {
            element.style.backgroundColor = color;
          });
          bttn[0].style.backgroundColor = color;
          break;
      case 2:
        document.querySelectorAll(".txt-color").forEach(element => {
            element.style.color = color;
        });
        bttn[1].style.backgroundColor = color;
          break;
      case 3:
        document.querySelector("#newsletter").style.backgroundColor = color;
        bttn[2].style.backgroundColor = color;
          break;
      case 4:
          document.querySelector(".thetable tr:nth-child(1)").style.backgroundColor = color;
          break;
      case 5:
        document.querySelectorAll(".header-color").forEach(element => {
            element.style.color = color;
        });
        bttn[3].style.backgroundColor = color;
          break;
      default:
          break;
  }
})
.on("save", (color, instance) => {})
    .on("hide", (instance) => {
      document
        .querySelector(".pickr")
        .setAttribute("id", "colour");
      document.querySelector("#colour").className = "color-picker";
    });
}

      
      

   // target elements with the "draggable" class
interact('.draggable')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    modifiers: [
      interact.modifiers.restrictRect({
        restriction: 'parent',
        endOnly: true
      })
    ],
    // enable autoScroll
    autoScroll: true,

    listeners: {
      // call this function on every dragmove event
      move: dragMoveListener,

      // call this function on every dragend event
      end (event) {
        var textEl = event.target.querySelector('p')

        // textEl && (textEl.textContent =
        //   'moved a distance of ' +
        //   (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
        //              Math.pow(event.pageY - event.y0, 2) | 0))
        //     .toFixed(2) + 'px')
        textEl && (textEl.textContent = igama)
      }
    }
  })

function dragMoveListener (event) {
  var target = event.target
  // keep the dragged position in the data-x/data-y attributes
  var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx
  var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy

  // translate the element
  target.style.transform = 'translate(' + x + 'px, ' + y + 'px)'

  // update the posiion attributes
  target.setAttribute('data-x', x)
  target.setAttribute('data-y', y)
}


// this function is used later in the resizing and gesture demos
window.dragMoveListener = dragMoveListener



      function redirectToLogin(msg) {
        var link = document.createElement('a');
              link.href = '../login.php?msg='+msg;
              link.click();
      }

      function vulaLinks(e) {
        if(e == 1) {
            document.getElementById('links').style.display = "block";
        }
        if(e == 2) {
            if(!popupform) {
                popupform = true;
                document.getElementById('popup').style.display = "grid";
            } else {
                popupform = false;
                document.getElementById('popup').style.display = "none";
            }
        }
    }

function PrintHTML() {
    if(myfile != undefined) {
        createForm(inputFile.files[0]);
    } else {
        createForm();
    }
    
}


     
    </script>
  </body>
</html>